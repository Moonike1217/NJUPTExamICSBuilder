<view class="container">
  <!-- 欢迎头部 -->
  <view class="card">
    <view class="text-center">
      <image src="/images/logo.png" class="logo" mode="aspectFit" />
      <text class="title">南邮考试日历生成器</text>
      <text class="subtitle">将考试信息转换为日历文件，方便安排复习计划</text>
    </view>
  </view>

  <!-- 功能说明 -->
  <view class="card">
    <text class="section-title">使用说明</text>
    <view class="step-list">
      <view class="step-item">
        <text class="step-number">1</text>
        <text class="step-text">上传教务处发布的Excel考试文件</text>
      </view>
      <view class="step-item">
        <text class="step-number">2</text>
        <text class="step-text">输入您的学号（B/Q/P/F开头，共7位）</text>
      </view>
      <view class="step-item">
        <text class="step-number">3</text>
        <text class="step-text">确认考试信息并生成日历文件</text>
      </view>
      <view class="step-item">
        <text class="step-number">4</text>
        <text class="step-text">下载ICS文件并导入到您的日历应用</text>
      </view>
    </view>
  </view>

  <!-- 快速开始 -->
  <view class="card">
    <text class="section-title">快速开始</text>
    
    <view class="input-group">
      <text class="input-label">请输入学号</text>
      <input 
        class="input-field" 
        type="text" 
        placeholder="例如：B230001" 
        value="{{classId}}"
        bindinput="onClassIdInput"
        maxlength="7"
      />
      <text class="text-muted">学号必须以B、Q、P或F开头，总长度为7位</text>
    </view>

    <button 
      class="btn-primary" 
      bindtap="goToUpload"
      disabled="{{!isClassIdValid}}"
    >
      开始使用
    </button>
  </view>

  <!-- 历史记录 -->
  <view class="card" wx:if="{{recentExams.length > 0}}">
    <text class="section-title">最近查询</text>
    <view class="exam-history">
      <view 
        class="history-item" 
        wx:for="{{recentExams}}" 
        wx:key="index"
        bindtap="useHistoryItem"
        data-index="{{index}}"
      >
        <text class="history-classid">{{item.classId}}</text>
        <text class="history-time">{{item.time}}</text>
        <text class="history-count">{{item.examCount}}场考试</text>
      </view>
    </view>
  </view>

  <!-- 支持格式说明 -->
  <view class="card">
    <text class="section-title">支持格式</text>
    <view class="format-list">
      <view class="format-item">
        <text class="format-icon">📄</text>
        <text class="format-text">Excel文件 (.xlsx, .xls)</text>
      </view>
      <view class="format-item">
        <text class="format-icon">📅</text>
        <text class="format-text">导出ICS日历文件</text>
      </view>
      <view class="format-item">
        <text class="format-icon">📱</text>
        <text class="format-text">支持各种日历应用</text>
      </view>
    </view>
  </view>
</view> 